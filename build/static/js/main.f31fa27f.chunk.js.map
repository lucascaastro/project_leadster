{"version":3,"sources":["components/PhotoCard/index.jsx","components/Photos/index.jsx","utils/load-photos.js","components/Button/index.jsx","components/Header/index.js","templates/Home/Index.jsx","index.js"],"names":["PhotoCard","title","cover","id","className","style","backgroundImage","Photos","data","length","map","photo","Math","random","src","original","loadPhotos","page","searchValue","a","urlPixel","options","headers","Authorization","fetch","then","res","json","imagesList","Button","this","props","text","onClick","disabled","Component","Header","Home","useState","allPhotos","setAllPhotos","setPage","postsPerPage","totalPhotos","setTotalPhotos","loading","setLoading","useEffect","handleLoadPhotos","inputRef","useRef","noMorePhots","clickSearch","current","value","trim","window","alert","photos","total_results","placeholder","ref","onKeyDown","event","keyCode","nextPage","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mXAEaA,EAAY,SAAC,GAAD,EAAGC,MAAH,IAAUC,EAAV,EAAUA,MAAV,EAAiBC,GAAjB,OACvB,qBACEC,UAAU,QACVC,MAAO,CAAEC,gBAAgB,OAAD,OAASJ,EAAT,SCDfK,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAH,OACpB,qBAAKJ,UAAU,SAAf,WAEMI,EAAKC,QAAUD,EAAKE,KAAI,SAAAC,GACxB,IAAMR,EAAsB,IAAhBS,KAAKC,SACjB,OACE,cAAC,EAAD,CAEEX,MAAOS,EAAMG,IAAIC,UADZZ,SCXJa,EAAU,uCAAG,WAAOC,EAAMC,GAAb,mBAAAC,EAAA,4DACP,2DACXC,EAAW,0CAA4CF,EAAc,SAAWD,EAChFI,EAAU,CACdC,QAAS,CACPC,cAJa,6DADO,SASCC,MAAMJ,EAAUC,GAASI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAT1C,cASlBC,EATkB,yBAWjBA,GAXiB,2CAAH,wD,gCCIVC,G,MAAb,4JACE,WACE,MAAoCC,KAAKC,MAAjCC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAASC,EAAvB,EAAuBA,SAEvB,OACE,wBACE9B,UAAU,SACV6B,QAASA,EACTC,SAAUA,EAHZ,SAKGF,QAVT,GAA4BG,cAgBbN,ICVAO,G,MARA,SAACL,GACd,OACE,iCACE,oBAAI3B,UAAU,QAAd,wBCyGSiC,G,MAnGK,WAClB,MAAkCC,mBAAS,IAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAwBF,mBAAS,MAAjC,mBAAOrB,EAAP,KAAawB,EAAb,KACA,EAAuBH,mBAAS,IAAzBI,EAAP,oBACA,EAAsCJ,mBAAS,GAA/C,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA8BN,oBAAS,GAAvC,mBAAOO,EAAP,KAAgBC,EAAhB,KAEAC,qBAAU,WACRN,EAAQ,GACRO,EAAiB,EAAG,UACnB,IAEH,IAAMC,EAAWC,iBAAO,MAClBC,EAAelC,EAAOyB,GAAiBC,EAEvCS,EAAc,WACmB,IAAjCH,EAASI,QAAQC,MAAMC,QAI3Bd,EAAQ,GACRD,EAAa,IACbI,EAAe,GACfI,EAAiB,EAAGC,EAASI,QAAQC,QANnCE,OAAOC,MAAM,oCASXT,EAAgB,uCAAG,WAAO/B,EAAMC,GAAb,mBAAAC,EAAA,6DACvB2B,GAAW,GADY,SAEiB9B,EAAWC,EAAMC,GAFlC,gBAEfwC,EAFe,EAEfA,OAAQC,EAFO,EAEPA,cACZD,EAAOjD,SACT+B,EAAa,GAAD,mBAAKD,GAAL,YAAmBmB,KAC/Bd,EAAee,IAEjBb,GAAW,GAPY,2CAAH,wDAsBtB,OACE,qCACE,cAAC,EAAD,IAEA,sBAAK1C,UAAU,mBAAf,UACE,uBACEA,UAAU,eACVwD,YAAY,uBACZC,IAAKZ,EACLa,UArBY,SAACC,GACE,IAAjBA,EAAMC,SACRZ,OAqBE,wBACEhD,UAAU,aACV6B,QAASmB,EACTlB,UAAU,EAHZ,4BAUCW,KAAaN,EAAU9B,QAAU,cAAC,EAAD,CAAQD,KAAM+B,KAI/CM,GAAoB,OAAT5B,IAAkBsB,EAAU9B,QACtC,qBAAKL,UAAU,WAAf,qEAODyC,GAAoB,OAAT5B,GAAiB0B,EAAc,GACzC,yBAASvC,UAAU,YAAnB,SACE,sBAAKA,UAAU,mBAAf,UACE,uBACA,cAAC,EAAD,CACE4B,KAAK,gBACLC,QA7CS,WACrB,IAAMgC,EAAWhD,EAAO,EACxBwB,EAAQwB,GACRjB,EAAiBiB,EAAUhB,EAASI,QAAQC,QA2ChCpB,SAAUiB,cC9F1Be,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f31fa27f.chunk.js","sourcesContent":["import './styles.css'\r\n\r\nexport const PhotoCard = ({ title, cover, id }) => (\r\n  <div\r\n    className=\"photo\"\r\n    style={{ backgroundImage: `url(${cover})` }}>\r\n  </div>\r\n);","import './styles.css';\r\n\r\nimport { PhotoCard } from '../PhotoCard';\r\n\r\nexport const Photos = ({ data }) => (\r\n  <div className=\"photos\">\r\n    {\r\n      !!data.length && data.map(photo => {\r\n        const id = (Math.random() * 1000);\r\n        return (\r\n          <PhotoCard\r\n            key={id}\r\n            cover={photo.src.original}\r\n          />\r\n        )\r\n      })\r\n    }\r\n  </div>\r\n);","export const loadPhotos = async (page, searchValue) => {\r\n  const apiToken = '563492ad6f91700001000001b6d497b1222b4550bf96a3a556435bc5';\r\n  const urlPixel = 'https://api.pexels.com/v1/search?query=' + searchValue + '&page=' + page;\r\n  const options = {\r\n    headers: {\r\n      Authorization: apiToken\r\n    }\r\n  };\r\n\r\n  const imagesList = await fetch(urlPixel, options).then(res => res.json());\r\n\r\n  return imagesList;\r\n}","import './styles.css'\r\n\r\nimport { Component } from 'react';\r\n\r\nexport class Button extends Component {\r\n  render() {\r\n    const { text, onClick, disabled } = this.props;\r\n\r\n    return (\r\n      <button\r\n        className='button'\r\n        onClick={onClick}\r\n        disabled={disabled}\r\n      >\r\n        {text}\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","import './styles.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header>\r\n      <h1 className=\"title\">Photos</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { useState, useEffect, useRef } from 'react';\n\nimport './styles.css';\n\nimport { Photos } from '../../components/Photos';\nimport { loadPhotos } from '../../utils/load-photos';\nimport Button from '../../components/Button';\nimport Header from '../../components/Header';\n// import TextInput from '../../components/TextInput';\nimport ButtonSearch from '../../components/ButtonSearch';\n\nexport const Home = () => {\n  const [allPhotos, setAllPhotos] = useState([]);\n  const [page, setPage] = useState(null);\n  const [postsPerPage] = useState(15);\n  const [totalPhotos, setTotalPhotos] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setPage(0);\n    handleLoadPhotos(0, 'cool');\n  }, []);\n\n  const inputRef = useRef(null);\n  const noMorePhots = (page * postsPerPage) >= totalPhotos;\n\n  const clickSearch = () => {\n    if (inputRef.current.value.trim() == '') {\n      window.alert('Por favor informe uma categoria');\n      return;\n    }\n    setPage(0);\n    setAllPhotos([]);\n    setTotalPhotos(0);\n    handleLoadPhotos(0, inputRef.current.value);\n  }\n\n  const handleLoadPhotos = async (page, searchValue) => {\n    setLoading(true);\n    const { photos, total_results } = await loadPhotos(page, searchValue);\n    if (photos.length) {\n      setAllPhotos([...allPhotos, ...photos]);\n      setTotalPhotos(total_results);\n    }\n    setLoading(false);\n  };\n\n  const handleInput = (event) => {\n    if (event.keyCode == 13) {\n      clickSearch();\n    }\n  }\n\n  const loadMorePhotos = () => {\n    const nextPage = page + 1;\n    setPage(nextPage);\n    handleLoadPhotos(nextPage, inputRef.current.value);\n  }\n\n  return (\n    <>\n      <Header />\n\n      <div className=\"container-search\">\n        <input\n          className=\"input-search\"\n          placeholder=\"Categoria de imagens\"\n          ref={inputRef}\n          onKeyDown={handleInput}\n        />\n        <button\n          className=\"btn-search\"\n          onClick={clickSearch}\n          disabled={false}\n        >\n          Pesquisar!\n        </button>\n      </div>\n\n      {\n        !loading && !!allPhotos.length && <Photos data={allPhotos} />\n      }\n\n      {\n        !loading && page !== null && !allPhotos.length && (\n          <div className=\"noPhotos\">\n            NÃ£o existem imagens para essa categoriaðŸ˜­\n          </div>\n        )\n      }\n\n      {\n        !loading && page !== null && totalPhotos > 0 && (\n          <section className=\"container\">\n            <div className=\"button-container\">\n              <br />\n              <Button\n                text=\"Carregar mais\"\n                onClick={loadMorePhotos}\n                disabled={noMorePhots}\n              />\n            </div>\n          </section>\n        )\n      }\n\n    </>\n  )\n}\n\nexport default Home;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.styles.css';\nimport Home from './templates/Home/Index';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Home />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}